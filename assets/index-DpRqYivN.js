import{u as x,r as p,a as b,c as V,b as k,o as v,d as E,e as m,f as e,w as s,g as o,h as y,l as B,E as R,i as I}from"./index-Cxs7iahU.js";import{E as N,a as q}from"./el-form-item-gSEbeYeG.js";const z={class:"page flex-center"},A={class:"sign-box"},C=m("h3",{class:"title"},"登陆",-1),U={__name:"index",setup(F){const f=x(),c=p(),t=b({account:"",password:""}),_=V(()=>({account:[{required:!0,message:"请输入用户名",trigger:["change","blur"]},{pattern:/^[a-zA-Z][a-zA-Z0-9_-]{3,31}$/,message:"用户名由英文字母开头的长度4-32位字母、_和-组成"}],password:{required:!0,min:4,message:"请输入至少4个字符的密码",trigger:["change","blur"]}})),l=p(!1),r=k();function g(){c.value.validate(d=>{d&&(l.value=!0,B(t).then(a=>{r.commit("user/setToken",a.data.token),r.dispatch("user/refreshInfo"),r.commit("setRouteLoaded",!1),f.push("/")}).finally(()=>{l.value=!1}))})}return(d,a)=>{const i=R,n=q,h=I,w=N;return v(),E("div",z,[m("div",A,[e(w,{ref_key:"formRef",ref:c,model:o(t),rules:o(_),"label-width":"86px"},{default:s(()=>[C,e(n,{label:"用户名",prop:"account"},{default:s(()=>[e(i,{modelValue:o(t).account,"onUpdate:modelValue":a[0]||(a[0]=u=>o(t).account=u),placeholder:"请输入用户名","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),e(n,{label:"密   码",prop:"password"},{default:s(()=>[e(i,{modelValue:o(t).password,"onUpdate:modelValue":a[1]||(a[1]=u=>o(t).password=u),type:"password",placeholder:"请输入密码","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),e(n,{label:""},{default:s(()=>[e(h,{type:"primary",loading:o(l),class:"w100p",onClick:g},{default:s(()=>[y("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}};export{U as default};
