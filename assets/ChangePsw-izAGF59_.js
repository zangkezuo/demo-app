import{_ as i,j as _,r as g,a as b,c as E,o as V,n as h,w as t,g as r,f as l,h as x,t as y,A as v,x as P,E as C,i as I}from"./index-Cxs7iahU.js";import{E as k,a as q}from"./el-form-item-gSEbeYeG.js";const B={__name:"ChangePsw",setup(F){const{t:s}=_(),n=g(),o=b({password:"",npassword:"",cfpassword:""}),m=E(()=>({password:{required:!0,min:4,message:s("form.passwordError"),trigger:"blur"},npassword:[{required:!0,min:4,message:s("form.passwordError"),trigger:"blur"}],cfpassword:[{required:!0,min:4,message:s("form.passwordError"),trigger:"blur"},{validator:(u,e,a)=>{e!=o.npassword?a(new Error(s("form.cfpasswordError"))):a()},trigger:"blur"}]}));function f(){n.value.validate(u=>{if(!u)return;const{password:e,npassword:a}=o;v({password:e,npassword:a}).then(()=>{P.success(s("tips.success")),n.value.resetFields()})})}return(u,e)=>{const a=C,p=q,c=I,w=k;return V(),h(w,{ref_key:"formRef",ref:n,model:r(o),rules:r(m),"label-width":"150px",class:"form"},{default:t(()=>[l(p,{label:r(s)("form.currPassword"),prop:"password"},{default:t(()=>[l(a,{modelValue:r(o).password,"onUpdate:modelValue":e[0]||(e[0]=d=>r(o).password=d),type:"password",placeholder:r(s)("form.currPassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{label:r(s)("form.npassword"),prop:"npassword"},{default:t(()=>[l(a,{modelValue:r(o).npassword,"onUpdate:modelValue":e[1]||(e[1]=d=>r(o).npassword=d),type:"password",placeholder:r(s)("form.npassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{label:r(s)("form.cfpassword"),prop:"cfpassword"},{default:t(()=>[l(a,{modelValue:r(o).cfpassword,"onUpdate:modelValue":e[2]||(e[2]=d=>r(o).cfpassword=d),type:"password",placeholder:r(s)("form.cfpassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,null,{default:t(()=>[l(c,{type:"primary",class:"w100p",onClick:f},{default:t(()=>[x(y(r(s)("action.submit")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}},R=i(B,[["__scopeId","data-v-440d6b30"]]);export{R as default};
